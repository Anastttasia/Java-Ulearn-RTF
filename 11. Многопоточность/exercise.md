В банке (класс Bank) есть счета (класс Account) с двумя полями — money и accNumber.

Все счета хранятся внутри банка. Множество клиентов банка могут одновременно переводить деньги между счетами и запрашивать баланс по своему счёту. Всё происходит в многопоточной среде.

При этом транзакции на суммы > 50000 отправляются на проверку в службу безопасности. Можно считать, что таких транзакций не более 5% от всех. За проверку отвечает отдельный и уже реализованный метод Bank.isFraud().

Служба безопасности не может обрабатывать более одной транзакции одновременно. Проверка занимает 1000 мс.

Если служба безопасности обнаружила мошенничество, необходимо заблокировать оба счёта, то есть запретить любые изменения остатков в дальнейшем.

Что нужно сделать:

Создайте метод transfer() класса Bank, который переводит деньги с одного счёта на другой. Если сумма транзакции > 50000 — транзакция отправляется на проверку службе безопасности: вызывается метод isFraud(). Если возвращается true, то счета блокируются (как – на ваше усмотрение).

Создайте метод getBalance() класса Bank, который возвращает остаток на счёте по переданной строке номера аккаунта.

Создайте метод getSumAllAccounts() класса Bank, который возращает остаток со всех счетов, которые находятся в банке.

Создайте метод setAccounts() класса Bank, который генерирует случайные аккаунты, с accNumber равным его индексу и начальным cash = 200000.

Реализуйте интерфейс Runnable в классе TransferRun, который будет брать случайный аккаунт из пула аккаунтов Bank и производить операцию на другой случайный аккаунт.